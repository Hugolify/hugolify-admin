{{- $fields := .fields -}}

{{- with .block -}}
  {{- $fields = (index site.Params.admin.blocks .).fields -}}
{{- end -}}
{{- with .collection -}}
  {{- $fields = (index site.Params.admin.collections .).fields -}}
{{- end -}}
{{- with .field -}}
  {{- $fields = (index site.Params.admin.fields .).fields }}
  {{- if reflect.IsMap . }}
    {{- with .fields }}
      {{- $fields = . }}
    {{- end }}
  {{- end }}
{{- end -}}

{{- return ($fields | default .fields) -}}
